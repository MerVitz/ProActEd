{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Course Recommendation</title>
    <link rel="stylesheet" href="{% static 'css/course_recomm_styles.css' %}">
</head>
<body>
    <div class="container">
        <div class="left-panel">
            <h1>Welcome to the Course Selection Assistant</h1>
            <p>This side will provide guidance and additional information as you fill out the form.</p>
        </div>
        <div class="right-panel">
            <form data-url="{% url 'recommend_courses' %}" id="course-recommendation-form" action="{% url 'recommend_courses' %}" method="POST">
                {% csrf_token %}
                <!-- Step 1: Interests -->
                <div id="step1" class="form-step active">
                    <h2>Select Your Interests</h2>
                    <div class="button-grid">
                        {% for interest in interests %}
                        <button type="button" class="interest-button" data-value="{{ interest.id }}" aria-pressed="false" onclick="toggleInterest('{{ interest.id }}')">
                            {{ interest.name }}
                        </button>
                        <input type="hidden" name="interests[]" id="interest_{{ interest.id }}" value="">
                        {% endfor %}
                    </div>
                    <button type="button" class="next-btn">Next</button>
                </div>
                <!-- Step 2: Additional Info -->
                <div id="step2" class="form-step">
                    <h2>Tell Us More About Yourself</h2>
                    <textarea name="details" rows="4" placeholder="Your details..."></textarea>
                    <button type="button" class="next-btn">Next</button>
                    <button type="button" class="back-btn">Back</button>
                </div>
                <!-- Step 3: Subjects -->
                <div id="step3" class="form-step">
                    <h2>Select Subjects You Excelled At</h2>
                    <div class="button-grid">
                        {% for subject in subjects %}
                        <button type="button" class="subject-button" data-value="{{ subject.id }}" aria-pressed="false">
                            {{ subject.name }}
                        </button>
                        {% endfor %}
                        {% for subject in subjects %}
                        <input type="hidden" id="input_subject_{{ subject.id }}" name="subjects[]" value="">
                        {% endfor %}
                    </div>
                    <button type="submit">Recommend Me Courses Now!</button>
                    <button type="button" class="back-btn">Back</button>
                </div>
            </form>
            <!-- Recommendations Display Area -->
            <div id="recommendations-area" style="display:none;">
                <h2>Recommended Courses for You:</h2>
                <ul class="courses-list">
                    <!-- Recommendations will be inserted here -->
                </ul>
                <button id="loginButton" class="login-btn">Login</button>
            </div>
        </div>
    </div>
    <script src="{% static 'js/course_recomm.js' %}"></script>
</body>
</html>
